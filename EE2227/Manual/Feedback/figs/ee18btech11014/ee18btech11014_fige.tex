\begin{circuitikz}[american]
\ctikzset{tripoles/mos style/arrows}
\draw  (0,0) node[ground](GND){} -- (0,1) to[isource, l= $I_{i}$] (0,3) -- (1,3);
\draw (1,3) to[R=$R_{M} + R_{F}$] (1,0) node[ground](GND){};
\draw (1,3) node[label={right:A}]{} to[short] (1,4);

\draw (1,6) node[label={right:B}]{} to[cisource, l= $-g_{m_{1}}v_{A}$] (1,4);
\draw (1,6) to[short, -o] (0.5,6) node[label={left:$v_{B}$}]{};
\draw (-1.5,4) to[short, -o] (-0.5,4) node[label={above:$-$}]{} node[label={below:$S_{1}$}]{};
\draw (-1,5.5) node[label={below:$-v_{A}$}]{};
\draw (-1.5,6) node[label={below:$G_{1}$}]{} to[short, -o] (-0.5,6) node[label={below:$+$}]{};
\draw (1,6) to[R=$R_{D}$, i=$I_{i}$] (1,9);
\draw (1,9) node[ground,rotate=180](GND){} (1,9);

\draw (4,7) to[R=$R_{L}$,i=$I_{o}$] (4,3);
\draw (4,8) to[cisource, l= $-g_{m_{2}}v_{B}$] (4,7);
\draw (4,6.5) to[short, -o] (3,6.5) node[label={above:$-$}]{} node[label={below:$G_{2}$}]{};
\draw (3,8) node[label={below:$-v_{B}$}]{};
\draw (4,8.5) to[short, -o] (3,8.5) node[label={above:$S_{2}$}]{} node[label={below:$+$}]{};
\draw (4,7) -- (4,9);
\draw (4,9) node[ground,rotate=180](GND){} (4,9);
\draw (4,3)node[label={right:C}]{} to[R=$\frac{R_{M}R_{F}}{R_{M}+R_{F}}$] (4,0) node[ground](GND){} (4,0);


\end{circuitikz}
